package kr.co.jsp.user.service;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import kr.co.jsp.user.model.UserDAO;
import kr.co.jsp.user.model.UserVO;

public class JoinService implements IUserService {

	@Override
	public void execute(HttpServletRequest request, HttpServletResponse response) {

		response.setContentType("text/html; charset=UTF-8");
		
		String id = request.getParameter("id");
		UserDAO dao = UserDAO.getInstance();
		
		String htmlCode;
		
		if(dao.confirmId(id)) {
			<script>
				alert("아이디가 중복되었습니다.")
				history.back();
			</script>
		
		} else {
		UserVO vo = new UserVO(
				id,
				request.getParameter("pw"),
				request.getParameter("name"),
				request.getParameter("email"),
				request.getParameter("address")
				);
		
		UserDAO.getInstance().insertUser(vo);
	}

}
